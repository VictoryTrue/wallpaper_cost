#include <iostream>
#include <vector>
#include <string>

class РулонОбоев {
public:
    РулонОбоев(const std::string& название, double длина, double ширина, double цена) 
        : название(название), длина(длина), ширина(ширина), цена(цена) {}

    double вычислить_площадь() const {
        return длина * ширина;
    }

    double вычислить_стоимость() const {
        return вычислить_площадь() * цена;
    }

private:
    std::string название;
    double длина;
    double ширина;
    double цена;
};

class Комната {
public:
    Комната(const std::string& название, double длина, double ширина, bool клеить_потолок)
        : название(название), длина(длина), ширина(ширина), клеить_потолок(клеить_потолок) {}

    double вычислить_площадь() const {
        if (клеить_потолок) {
            // Если нужно клеить потолок, то удваиваем площадь
            return 2 * длина * ширина;
        } else {
            return длина * ширина;
        }
    }

private:
    std::string название;
    double длина;
    double ширина;
    bool клеить_потолок;
};

class Квартира {
public:
    void добавить_комнату(const Комната& комната) {
        комнаты.push_back(комната);
    }

    void добавить_рулон(const РулонОбоев& рулон) {
        рулоны.push_back(рулон);
    }

    void рассчитать_стоимость() const {
        double общая_стоимость = 0.0;

        for (const auto& комната : комнаты) {
            double площадь_комнаты = комната.вычислить_площадь();

            for (const auto& рулон : рулоны) {
                double площадь_рулона = рулон.вычислить_площадь();

                if (площадь_рулона >= площадь_комнаты) {
                    общая_стоимость += рулон.вычислить_стоимость();
                    break;
                }
            }
        }

        std::cout << "Общая стоимость обоев: " << общая_стоимость << " рублей." << std::endl;
    }

private:
    std::vector<Комната> комнаты;
    std::vector<РулонОбоев> рулоны;
};

int main() {
    Квартира квартира;

    // Ввод данных о комнатах
    int количество_комнат;
    std::cout << "Введите количество комнат в квартире: ";
    std::cin >> количество_комнат;

    for (int i = 0; i < количество_комнат; ++i) {
        std::string название;
        double длина, ширина;
        bool клеить_потолок;

        std::cout << "Введите название комнаты: ";
        std::cin >> название;

        std::cout << "Введите длину комнаты: ";
        std::cin >> длина;

        std::cout << "Введите ширину комнаты: ";
        std::cin >> ширина;

        std::cout << "Клеить потолок (1 - да, 0 - нет): ";
        std::cin >> клеить_потолок;

        Комната комната(название, длина, ширина, клеить_потолок);
        квартира.добавить_комнату(комната);
    }

    // Ввод данных о рулонах обоев
    int количество_рулонов;
    std::cout << "Введите количество видов обоев: ";
    std::cin >> количество_рулонов;

    for (int i = 0; i < количество_рулонов; ++i) {
        std::string название;
        double длина, ширина, цена;

        std::cout << "Введите название рулона обоев: ";
        std::cin >> название;

        std::cout << "Введите длину рулона обоев: ";
        std::cin >> длина;

        std::cout << "Введите ширину рулона обоев: ";
        std::cin >> ширина;

        std::cout << "Введите цену рулона обоев: ";
        std::cin >> цена;

        РулонОбоев рулон(название, длина, ширина, цена);
        квартира.добавить_рулон(рулон);
    }

    // Рассчитываем стоимость и выводим результат
    квартира.рассчитать_стоимость();

    return 0;
}
